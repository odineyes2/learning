```javascript server9.js

import { ApolloServer, gql } from "apollo-server";

let tweets = [
  {
    id: "1",
    text: "first",
    userId: "5",
  },
  {
    id: "2",
    text: "second",
    userId: "10",
  },
];

const typeDefs = gql`
  type Company {
      name: String
      catchPhrase: String
      bs: String
  }

  type Geo {
      lat: Float
      lng: Float
    }

  type Address {
    street: String
    suite: String
    city: String
    zipcode: String
    geo: Geo
  }

  type User {
    id: ID
    name: String
    username: String
    email: String
    address: Address  
    phone: String
    website: String
    company: Company
  }  

  type Tweet {
    id: ID!
    text: String
    author: User
  }

  type ToDo {
    id: ID
    userId: ID
    title: String
    completed: Boolean
    author: User
  }

  type Query {
    allUsers: [User]
    user(id: ID!): User
    """
    This is the place that is for description of allTweets field:)
    """
    allTweets: [Tweet]
    tweet(id: ID!): Tweet
    allToDos: [ToDo]
    toDo: ToDo
  }

  type Mutation {
    postTweet(text: String, userId: ID): Tweet
    deleteTweet(id: ID!): Boolean
  }
`;

const resolvers = {
  Query: {
    allTweets() {
      return tweets;
    },
    tweet(root, { id }) {
      return tweets.map((tweet) => tweet.id === id);
    },
    allUsers() {
      return fetch("https://jsonplaceholder.typicode.com/users/").then((r) =>
        r.json(),
      );
    },
    user(_, { id }) {
      return fetch(`https://jsonplaceholder.typicode.com/users/${id}`).then(
        (r) => r.json(),
      );
    },
    allToDos() {
      return fetch("https://jsonplaceholder.typicode.com/todos/").then((r) =>
        r.json(),
      );
    },
    toDo(_, { id }) {
      return fetch(`https://jsonplaceholder.typicode.com/todos/${id}`).then(
        (r) => r.json(),
      );
    },
  },
  Mutation: {
    postTweet(_, { text, userId }) {
      const newTweet = {
        id: tweets.length + 1,
        text,
        userId,
      };
      tweets.push(newTweet);
      return newTweet;
    },
    deleteTweet(_, { id }) {
      const tweet = tweets.find((tweet) => {
        tweet.id == id;
      });
      if (!tweet) return false;
      tweets = tweets.filter((tweet) => tweet.id !== id);
      return true;
    },
  },  
  Tweet: {
    author({ userId }) {
      return fetch(`https://jsonplaceholder.typicode.com/users/${userId}`).then(
        (r) => r.json(),
      );
    },    
  },
  ToDo: {
    author({userId}){
      return fetch(`https://jsonplaceholder.typicode.com/users/${userId}`).then(
        (r) => r.json(),
      );
    }
  }
};

const server = new ApolloServer({ typeDefs, resolvers });

server.listen().then(({ url }) => {
  console.log(`Runing on ${url}`);
});

```

## documentation
- 데이터 타입 정의를 해준다. - 이것만큼은 수동으로 입력해야 한다.
- 필요한 리졸버를 작성한다. - 이때 RestAPI를 fetch 하는 코드를 입력하면 된다.
- 테스트해본다.

``` operation

{
    allMovies(){
        id
        title
        summary
        rating
        genres
    }    
}


{
    movie(id:"41438"){
        id
        title
        summary
        rating
        genres
    }    
}

```